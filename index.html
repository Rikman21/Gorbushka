<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ì–æ—Ä–±—É—à–∫–∞ –û–Ω–ª–∞–π–Ω</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* --- –°–¢–ò–õ–ò (–î–∏–∑–∞–π–Ω V6.0) --- */
        :root {
            --bg-color: var(--tg-theme-bg-color, #f2f2f7);
            --text-color: var(--tg-theme-text-color, #000000);
            --card-bg: var(--tg-theme-secondary-bg-color, #ffffff);
            --accent: var(--tg-theme-button-color, #007aff);
            --accent-text: var(--tg-theme-button-text-color, #ffffff);
            --hint: var(--tg-theme-hint-color, #8e8e93);
            --danger: #ff3b30;
            --success: #34c759;
            --overlay: rgba(0,0,0,0.4);
        }

        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; 
            background-color: var(--bg-color); 
            color: var(--text-color); 
            margin: 0; 
            padding: 16px 16px 120px 16px; 
            -webkit-tap-highlight-color: transparent;
        }

        .screen { display: none; opacity: 0; transition: opacity 0.3s ease; }
        .screen.active { display: block; opacity: 1; }
        .hidden { display: none !important; }

        .header { text-align: center; margin-bottom: 20px; font-size: 22px; font-weight: 700; }

        .card { 
            background: var(--card-bg); border-radius: 16px; padding: 20px; 
            box-shadow: 0 4px 12px rgba(0,0,0,0.05); text-align: center; margin-bottom: 20px;
        }

        .main-btn { 
            width: 100%; padding: 14px; border-radius: 12px; border: none; 
            font-size: 16px; font-weight: 600; cursor: pointer; 
            display: flex; align-items: center; justify-content: center; gap: 8px; margin-bottom: 10px; 
            opacity: 0; animation: popIn 0.3s forwards;
            background: var(--card-bg); color: var(--text-color); border: 1px solid var(--hint);
        }
        @keyframes popIn { 0% { opacity: 0; transform: scale(0.95); } 100% { opacity: 1; transform: scale(1); } }
        .main-btn:active { transform: scale(0.98); opacity: 0.8; }
        
        .btn-primary { background: var(--accent); color: var(--accent-text); border: none;}
        .btn-excel { background: var(--success); color: white; border: none; } 
        .btn-back { background: var(--bg-color); color: var(--text-color); width: 30%; font-size: 22px; margin-bottom: 0; border:none;} 

        /* –ö–Ω–æ–ø–∫–∏ –ø–∞–ø–æ–∫ */
        .folder-btn { justify-content: space-between; padding: 16px 20px; text-align: left; }
        .folder-arrow { color: var(--hint); font-size: 14px; }

        .list-options { display: flex; flex-direction: column; gap: 10px; padding-bottom: 20px; }

        .bottom-bar {
            position: fixed; bottom: 0; left: 0; right: 0; padding: 12px 16px 30px 16px; 
            background: var(--card-bg); border-top: 0.5px solid rgba(0,0,0,0.1);
            display: flex; gap: 10px; z-index: 1000;
            box-shadow: 0 -5px 15px rgba(0,0,0,0.05); backdrop-filter: blur(10px); 
        }

        .offer-card { 
            background: var(--card-bg); border-radius: 16px; padding: 16px; 
            margin-bottom: 12px; display: flex; justify-content: space-between; align-items: center;
            opacity: 0; animation: popIn 0.3s ease forwards;
        }
        .offer-info { text-align: left; max-width: 70%;}
        .offer-name { font-weight:600; font-size:14px; margin-bottom:4px; line-height: 1.2; }
        .offer-price { font-size: 17px; font-weight: 700; color: var(--accent); }
        .offer-seller { font-size: 12px; color: var(--hint); }
        .btn-buy-small { 
            background: var(--accent); color: white; border: none; padding: 8px 16px; 
            border-radius: 8px; font-weight: 600; font-size: 14px;
        }

        .input-price { 
            width: 100%; padding: 10px; font-size: 24px; font-weight: bold; 
            border: none; border-bottom: 2px solid var(--accent); 
            background: transparent; color: var(--text-color); 
            text-align: center; outline: none; margin: 20px 0;
        }

        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */
        .modal-overlay {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: var(--overlay); z-index: 2000;
            display: flex; align-items: flex-end; 
            opacity: 0; pointer-events: none; transition: opacity 0.2s;
        }
        .modal-overlay.open { opacity: 1; pointer-events: all; }
        
        .modal-content {
            background: var(--bg-color); width: 100%; 
            border-top-left-radius: 20px; border-top-right-radius: 20px;
            padding: 24px; transform: translateY(100%); transition: transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
            padding-bottom: 50px;
        }
        .modal-overlay.open .modal-content { transform: translateY(0); }

        .modal-title { font-size: 18px; font-weight: bold; margin-bottom: 20px; text-align: center; }
        .modal-actions { display: flex; gap: 10px; margin-top: 15px; }
        .input-edit { 
            width: 100%; padding: 12px; font-size: 20px; border-radius: 12px;
            border: 1px solid var(--hint); outline: none; text-align: center; box-sizing: border-box; background: var(--card-bg); color: var(--text-color);
        }
        .btn-modal-delete { background: var(--danger); color: white; flex: 1; border:none; padding: 14px; border-radius: 12px; font-weight: 600;}
        .btn-modal-save { background: var(--accent); color: white; flex: 1; border:none; padding: 14px; border-radius: 12px; font-weight: 600;}

        .debug-box { font-size: 10px; color: var(--hint); text-align: center; margin-top: 10px; opacity: 0.5; }
        .admin-badge { background: var(--danger); color: white; padding: 2px 6px; border-radius: 4px; font-size: 10px; margin-left: 5px;}
    </style>
</head>
<body>
    <div id="app">
        
        <div id="screen-welcome" class="screen active">
            <h2 class="header">–ì–æ—Ä–±—É—à–∫–∞ –û–Ω–ª–∞–π–Ω üì±</h2>
            <div class="card">
                <p style="margin-bottom: 15px;">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å:</p>
                <button class="main-btn btn-primary" onclick="setRole('buyer')">üõí –Ø –ü–æ–∫—É–ø–∞—Ç–µ–ª—å</button>
                <button class="main-btn btn-outline" onclick="setRole('seller')">üì¶ –Ø –ü—Ä–æ–¥–∞–≤–µ—Ü</button>
            </div>
            <div class="debug-box">ID: <span id="debug-id">...</span></div>
        </div>

        <div id="screen-lk" class="screen">
            <h2 class="header" id="user-name">–ú–µ–Ω—é</h2>
            <div class="card">
                <button class="main-btn btn-primary" id="btn-buy" onclick="startFlow()">üîç –ù–∞–π—Ç–∏ —Ç–æ–≤–∞—Ä</button>
                
                <button class="main-btn btn-primary" id="btn-price" onclick="startFlow()">üí∞ –î–æ–±–∞–≤–∏—Ç—å —Ü–µ–Ω—É (1 —à—Ç)</button>
                <button class="main-btn btn-outline" id="btn-my-offers" onclick="goToMyCategories()">üìã –ú–æ–∏ —Ç–æ–≤–∞—Ä—ã</button>
                <button class="main-btn btn-excel" id="btn-template" onclick="requestTemplate()">üì• –°–∫–∞—á–∞—Ç—å —à–∞–±–ª–æ–Ω (Excel)</button>
            </div>
            <button style="margin-top: 20px; background: transparent; color: var(--danger); border:none; width:100%; font-size:14px; font-weight:600; display:flex; align-items:center; justify-content:center; gap:5px;" onclick="resetRole()">üö™ –í—ã–π—Ç–∏ (–°–º–µ–Ω–∏—Ç—å —Ä–æ–ª—å)</button>
        </div>

        <div id="screen-flow" class="screen">
            <h2 id="flow-title" class="header">–í—ã–±–æ—Ä</h2>
            <div id="flow-content" class="list-options"></div> 
            <div class="bottom-bar">
                <button class="main-btn btn-back" onclick="goBack()">‚¨ÖÔ∏è</button>
                <div style="width: 100%; display:flex; align-items:center; justify-content:center; color: var(--hint); font-size: 12px;">–®–∞–≥ –Ω–∞–∑–∞–¥</div>
            </div>
        </div>

        <div id="screen-offers" class="screen">
            <h2 class="header">–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è üìã</h2>
            <div id="offers-list"></div>
            <div class="bottom-bar">
                <button class="main-btn btn-back" style="width: 100%" onclick="showScreen('screen-flow')">‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º</button>
            </div>
        </div>

        <div id="screen-price" class="screen">
            <h2 class="header">–í–∞—à–∞ —Ü–µ–Ω–∞ üè∑Ô∏è</h2>
            <div class="card">
                <p id="price-product-name" style="color:var(--hint)"></p>
                <input type="number" id="price-input" class="input-price" placeholder="‚ÇΩ">
            </div>
            <div class="bottom-bar">
                <button class="main-btn btn-back" onclick="showScreen('screen-flow')">‚¨ÖÔ∏è</button>
                <button class="main-btn btn-primary" style="margin-bottom: 0;" onclick="finishPrice()">‚úÖ –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>
            </div>
        </div>

        <div id="screen-my-categories" class="screen">
            <h2 class="header">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ üì¶</h2>
            <div class="list-options">
                <button class="main-btn folder-btn" onclick="goToMyFamilies('iPhone')">
                    <span>üì± iPhone</span> <span class="folder-arrow">‚Ä∫</span>
                </button>
                <button class="main-btn folder-btn" style="opacity:0.5" onclick="alert('–°–∫–æ—Ä–æ!')">
                    <span>üíª Mac (–°–∫–æ—Ä–æ)</span> <span class="folder-arrow">‚Ä∫</span>
                </button>
                <button class="main-btn folder-btn" style="opacity:0.5" onclick="alert('–°–∫–æ—Ä–æ!')">
                    <span>‚åöÔ∏è Watch (–°–∫–æ—Ä–æ)</span> <span class="folder-arrow">‚Ä∫</span>
                </button>
            </div>
            <div class="bottom-bar">
                <button class="main-btn btn-back" style="width: 100%" onclick="showScreen('screen-lk')">‚¨ÖÔ∏è –í –º–µ–Ω—é</button>
            </div>
        </div>

        <div id="screen-my-families" class="screen">
            <h2 class="header">–ú–æ–¥–µ–ª–∏</h2>
            <div id="family-list" class="list-options"></div>
            <div class="bottom-bar">
                <button class="main-btn btn-back" style="width: 100%" onclick="showScreen('screen-my-categories')">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
            </div>
        </div>

        <div id="screen-my-list" class="screen">
            <h2 class="header" id="my-list-title">–¢–æ–≤–∞—Ä—ã</h2>
            <div id="my-items-list" style="padding-bottom: 20px;"></div>
            <div class="bottom-bar">
                <button class="main-btn btn-back" style="width: 100%" onclick="showScreen('screen-my-families')">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
            </div>
        </div>

    </div>

    <div id="modal-edit" class="modal-overlay" onclick="closeModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–º</div>
            <p id="modal-product-name" style="text-align:center; color:var(--hint); margin-bottom:15px; font-size:14px;"></p>
            <input type="number" id="modal-price-input" class="input-edit" placeholder="–ù–æ–≤–∞—è —Ü–µ–Ω–∞">
            <div class="modal-actions">
                <button class="btn-modal-delete" onclick="actionDelete()">–£–¥–∞–ª–∏—Ç—å üóë</button>
                <button class="btn-modal-save" onclick="actionSave()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å üíæ</button>
            </div>
        </div>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();

        // –ü–û–õ–ù–´–ô –ö–ê–¢–ê–õ–û–ì (–î–ª—è —Ä–∞–±–æ—Ç—ã –º–µ–Ω—é –ø–æ–∫—É–ø–∞—Ç–µ–ª—è)
        const csvData = `
iPhone 16e, 128 GB, Black, Dual Physical SIM
iPhone 16e, 256 GB, Black, Dual Physical SIM
iPhone 16e, 512 GB, Black, Dual Physical SIM
iPhone 16e, 128 GB, White, Dual Physical SIM
iPhone 16e, 256 GB, White, Dual Physical SIM
iPhone 16e, 512 GB, White, Dual Physical SIM
iPhone 16e, 128 GB, Black, Physical + eSIM
iPhone 16e, 256 GB, Black, Physical + eSIM
iPhone 16e, 512 GB, Black, Physical + eSIM
iPhone 16e, 128 GB, White, Physical + eSIM
iPhone 16e, 256 GB, White, Physical + eSIM
iPhone 16e, 512 GB, White, Physical + eSIM
iPhone 16, 128 GB, Black, Dual Physical SIM
iPhone 16, 256 GB, Black, Dual Physical SIM
iPhone 16, 512 GB, Black, Dual Physical SIM
iPhone 16, 128 GB, White, Dual Physical SIM
iPhone 16, 256 GB, White, Dual Physical SIM
iPhone 16, 512 GB, White, Dual Physical SIM
iPhone 16, 128 GB, Pink, Dual Physical SIM
iPhone 16, 256 GB, Pink, Dual Physical SIM
iPhone 16, 512 GB, Pink, Dual Physical SIM
iPhone 16, 128 GB, Teal, Dual Physical SIM
iPhone 16, 256 GB, Teal, Dual Physical SIM
iPhone 16, 512 GB, Teal, Dual Physical SIM
iPhone 16, 128 GB, Ultramarine, Dual Physical SIM
iPhone 16, 256 GB, Ultramarine, Dual Physical SIM
iPhone 16, 512 GB, Ultramarine, Dual Physical SIM
iPhone 16, 128 GB, Black, Physical + eSIM
iPhone 16, 256 GB, Black, Physical + eSIM
iPhone 16, 512 GB, Black, Physical + eSIM
iPhone 16, 128 GB, White, Physical + eSIM
iPhone 16, 256 GB, White, Physical + eSIM
iPhone 16, 512 GB, White, Physical + eSIM
iPhone 16, 128 GB, Pink, Physical + eSIM
iPhone 16, 256 GB, Pink, Physical + eSIM
iPhone 16, 512 GB, Pink, Physical + eSIM
iPhone 16, 128 GB, Teal, Physical + eSIM
iPhone 16, 256 GB, Teal, Physical + eSIM
iPhone 16, 512 GB, Teal, Physical + eSIM
iPhone 16, 128 GB, Ultramarine, Physical + eSIM
iPhone 16, 256 GB, Ultramarine, Physical + eSIM
iPhone 16, 512 GB, Ultramarine, Physical + eSIM
iPhone 16 Plus, 128 GB, Black, Dual Physical SIM
iPhone 16 Plus, 256 GB, Black, Dual Physical SIM
iPhone 16 Plus, 512 GB, Black, Dual Physical SIM
iPhone 16 Plus, 128 GB, White, Dual Physical SIM
iPhone 16 Plus, 256 GB, White, Dual Physical SIM
iPhone 16 Plus, 512 GB, White, Dual Physical SIM
iPhone 16 Plus, 128 GB, Pink, Dual Physical SIM
iPhone 16 Plus, 256 GB, Pink, Dual Physical SIM
iPhone 16 Plus, 512 GB, Pink, Dual Physical SIM
iPhone 16 Plus, 128 GB, Teal, Dual Physical SIM
iPhone 16 Plus, 256 GB, Teal, Dual Physical SIM
iPhone 16 Plus, 512 GB, Teal, Dual Physical SIM
iPhone 16 Plus, 128 GB, Ultramarine, Dual Physical SIM
iPhone 16 Plus, 256 GB, Ultramarine, Dual Physical SIM
iPhone 16 Plus, 512 GB, Ultramarine, Dual Physical SIM
iPhone 16 Plus, 128 GB, Black, Physical + eSIM
iPhone 16 Plus, 256 GB, Black, Physical + eSIM
iPhone 16 Plus, 512 GB, Black, Physical + eSIM
iPhone 16 Plus, 128 GB, White, Physical + eSIM
iPhone 16 Plus, 256 GB, White, Physical + eSIM
iPhone 16 Plus, 512 GB, White, Physical + eSIM
iPhone 16 Plus, 128 GB, Pink, Physical + eSIM
iPhone 16 Plus, 256 GB, Pink, Physical + eSIM
iPhone 16 Plus, 512 GB, Pink, Physical + eSIM
iPhone 16 Plus, 128 GB, Teal, Physical + eSIM
iPhone 16 Plus, 256 GB, Teal, Physical + eSIM
iPhone 16 Plus, 512 GB, Teal, Physical + eSIM
iPhone 16 Plus, 128 GB, Ultramarine, Physical + eSIM
iPhone 16 Plus, 256 GB, Ultramarine, Physical + eSIM
iPhone 16 Plus, 512 GB, Ultramarine, Physical + eSIM
iPhone 16 Pro, 128 GB, Black Titanium, Dual Physical SIM
iPhone 16 Pro, 256 GB, Black Titanium, Dual Physical SIM
iPhone 16 Pro, 512 GB, Black Titanium, Dual Physical SIM
iPhone 16 Pro, 1 TB, Black Titanium, Dual Physical SIM
iPhone 16 Pro, 128 GB, White Titanium, Dual Physical SIM
iPhone 16 Pro, 256 GB, White Titanium, Dual Physical SIM
iPhone 16 Pro, 512 GB, White Titanium, Dual Physical SIM
iPhone 16 Pro, 1 TB, White Titanium, Dual Physical SIM
iPhone 16 Pro, 128 GB, Natural Titanium, Dual Physical SIM
iPhone 16 Pro, 256 GB, Natural Titanium, Dual Physical SIM
iPhone 16 Pro, 512 GB, Natural Titanium, Dual Physical SIM
iPhone 16 Pro, 1 TB, Natural Titanium, Dual Physical SIM
iPhone 16 Pro, 128 GB, Desert Titanium, Dual Physical SIM
iPhone 16 Pro, 256 GB, Desert Titanium, Dual Physical SIM
iPhone 16 Pro, 512 GB, Desert Titanium, Dual Physical SIM
iPhone 16 Pro, 1 TB, Desert Titanium, Dual Physical SIM
iPhone 16 Pro, 128 GB, Black Titanium, Physical + eSIM
iPhone 16 Pro, 256 GB, Black Titanium, Physical + eSIM
iPhone 16 Pro, 512 GB, Black Titanium, Physical + eSIM
iPhone 16 Pro, 1 TB, Black Titanium, Physical + eSIM
iPhone 16 Pro, 128 GB, White Titanium, Physical + eSIM
iPhone 16 Pro, 256 GB, White Titanium, Physical + eSIM
iPhone 16 Pro, 512 GB, White Titanium, Physical + eSIM
iPhone 16 Pro, 1 TB, White Titanium, Physical + eSIM
iPhone 16 Pro, 128 GB, Natural Titanium, Physical + eSIM
iPhone 16 Pro, 256 GB, Natural Titanium, Physical + eSIM
iPhone 16 Pro, 512 GB, Natural Titanium, Physical + eSIM
iPhone 16 Pro, 1 TB, Natural Titanium, Physical + eSIM
iPhone 16 Pro, 128 GB, Desert Titanium, Physical + eSIM
iPhone 16 Pro, 256 GB, Desert Titanium, Physical + eSIM
iPhone 16 Pro, 512 GB, Desert Titanium, Physical + eSIM
iPhone 16 Pro, 1 TB, Desert Titanium, Physical + eSIM
iPhone 16 Pro Max, 256 GB, Black Titanium, Dual Physical SIM
iPhone 16 Pro Max, 512 GB, Black Titanium, Dual Physical SIM
iPhone 16 Pro Max, 1 TB, Black Titanium, Dual Physical SIM
iPhone 16 Pro Max, 256 GB, White Titanium, Dual Physical SIM
iPhone 16 Pro Max, 512 GB, White Titanium, Dual Physical SIM
iPhone 16 Pro Max, 1 TB, White Titanium, Dual Physical SIM
iPhone 16 Pro Max, 256 GB, Natural Titanium, Dual Physical SIM
iPhone 16 Pro Max, 512 GB, Natural Titanium, Dual Physical SIM
iPhone 16 Pro Max, 1 TB, Natural Titanium, Dual Physical SIM
iPhone 16 Pro Max, 256 GB, Desert Titanium, Dual Physical SIM
iPhone 16 Pro Max, 512 GB, Desert Titanium, Dual Physical SIM
iPhone 16 Pro Max, 1 TB, Desert Titanium, Dual Physical SIM
iPhone 16 Pro Max, 256 GB, Black Titanium, Physical + eSIM
iPhone 16 Pro Max, 512 GB, Black Titanium, Physical + eSIM
iPhone 16 Pro Max, 1 TB, Black Titanium, Physical + eSIM
iPhone 16 Pro Max, 256 GB, White Titanium, Physical + eSIM
iPhone 16 Pro Max, 512 GB, White Titanium, Physical + eSIM
iPhone 16 Pro Max, 1 TB, White Titanium, Physical + eSIM
iPhone 16 Pro Max, 256 GB, Natural Titanium, Physical + eSIM
iPhone 16 Pro Max, 512 GB, Natural Titanium, Physical + eSIM
iPhone 16 Pro Max, 1 TB, Natural Titanium, Physical + eSIM
iPhone 16 Pro Max, 256 GB, Desert Titanium, Physical + eSIM
iPhone 16 Pro Max, 512 GB, Desert Titanium, Physical + eSIM
iPhone 16 Pro Max, 1 TB, Desert Titanium, Physical + eSIM
        `;

        const admins = [464896073]; 
        const sellers = [464896073]; 
        
        const urlParams = new URLSearchParams(window.location.search);
        let myId = urlParams.get('uid') ? parseInt(urlParams.get('uid')) : tg.initDataUnsafe.user?.id;
        document.getElementById('debug-id').innerText = myId || "–ù–ï –û–ü–†–ï–î–ï–õ–ï–ù";

        const catalogData = csvData.trim().split('\n').map(row => row.split(',').map(s => s.trim()));
        const headers = ["üì± –ú–æ–¥–µ–ª—å", "üíæ –ü–∞–º—è—Ç—å", "üé® –¶–≤–µ—Ç", "üì≤ –°–∏–º-–∫–∞—Ä—Ç–∞"];

        let dbOffers = []; 
        try {
            const dataStr = urlParams.get('data');
            if (dataStr) dbOffers = JSON.parse(decodeURIComponent(dataStr));
        } catch (e) { console.error(e); }

        let currentSelection = [];
        let userRole = '';
        let currentEditingSku = null; // –î–ª—è –º–æ–¥–∞–ª–∫–∏

        function init() {
            const role = localStorage.getItem('user_role');
            if(!role) showScreen('screen-welcome');
            else { userRole = role; updateInterface(role); showScreen('screen-lk'); }
        }

        function setRole(role) {
            const isAllowed = sellers.includes(myId) || admins.includes(myId);
            if(role === 'seller' && !isAllowed) return alert("‚õîÔ∏è –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞.");
            localStorage.setItem('user_role', role);
            userRole = role;
            updateInterface(role);
            showScreen('screen-lk');
        }

        function resetRole() { localStorage.removeItem('user_role'); location.reload(); }

        function updateInterface(role) {
            const userName = tg.initDataUnsafe.user?.first_name || "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å";
            const isAdmin = admins.includes(myId);
            const badge = isAdmin ? ' <span class="admin-badge">ADMIN</span>' : '';
            document.getElementById('user-nam